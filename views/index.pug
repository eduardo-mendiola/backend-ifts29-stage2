extends layout-public.pug

block content
  .d-flex.justify-content-center.align-items-center.min-vh-100
    form.mt-5.text-center(style="min-width: 350px;" action="/login" method="POST")
      // Logo de ejemplo
      img.mb-4(src="/images/logo_cw.webp" alt="Logo" width="100" height="100")
      h1.h1.mb-3.fw-normal.text-center ClickWave
      h2.fs-5.text.mb-3.fw-normal.text-center Iniciar Sesión

      // Email o Username
      .form-floating.mb-3
        input.form-control(type="text" id="floatingInput" name="email" placeholder="usuario o email" required autofocus)
        label(for="floatingInput") Usuario o Email

      // Password
      .form-floating.mb-3.position-relative
        input.form-control(type="password" id="floatingPassword" name="password" placeholder="Contraseña" required style="padding-right: 45px;")
        label(for="floatingPassword") Contraseña
        button.btn.position-absolute.top-50.end-0.translate-middle-y.border-0.bg-transparent(type="button" id="togglePassword" style="z-index: 10; padding-right: 15px;")
          i.bi.bi-eye#eyeIcon

      // Remember me
      .form-check.text-start.mb-3
        input.form-check-input(type="checkbox" value="remember-me" id="checkDefault")
        label.form-check-label(for="checkDefault") Recordarme

      // Submit
      button.btn.btn-primary.w-100.py-2(type="submit") Ingresar

      // Mensajes de error y éxito (debajo del botón)
      if error && error.length > 0
        .alert.alert-danger.text-center.mt-3.mb-0(role="alert")
          i.bi.bi-exclamation-circle-fill.me-2
          strong ¡Error! 
          = error[0]
      if success && success.length > 0
        .alert.alert-success.text-center.mt-3.mb-0(role="alert")
          i.bi.bi-check-circle-fill.me-2
          = success[0]

      // Pie de página
      p.mt-5.mb-3.text-light-emphasis © 2025 ClickWave - Eduardo Mendiola
